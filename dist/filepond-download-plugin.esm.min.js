/*!
 * FilePondPluginGetFile 1.0.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://github.com/hassan-knopsmedia/filepond-download-plugin.git#readme for details.
 */

/* eslint-disable */

const e=e=>{let t=document.createElement("span");return t.className="filepond--download-icon",t.title=e,t},t=(e,t)=>{if(t&&e.getMetadata("url"))location.href=e.getMetadata("url");else{const t=document.createElement("a"),n=window.URL.createObjectURL(e.file);document.body.appendChild(t),t.style.display="none",t.href=n,t.download=e.file.name,t.click(),window.URL.revokeObjectURL(n),t.remove()}},n=n=>{const{addFilter:o,utils:l}=n,{Type:i,createRoute:d}=l;return o("CREATE_VIEW",(n=>{const{is:o,view:l,query:i}=n;if(!o("file"))return;l.registerWriter(d({DID_LOAD_ITEM:({root:n,props:o})=>{const{id:l}=o,d=i("GET_ITEM",l);if(!d||d.archived)return;const r=n.query("GET_LABEL_BUTTON_DOWNLOAD_ITEM"),a=n.query("GET_ALLOW_DOWNLOAD_BY_URL");((n,o,l,i)=>{const d=o.querySelector(".filepond--file-info-main"),r=e(l);d.innerHTML=n.file.name,console.log(n.file.name),d.prepend(r),r.addEventListener("click",(()=>t(n,i)))})(d,n.element,r,a)}},(({root:e,props:t})=>{const{id:n}=t;i("GET_ITEM",n);e.rect.element.hidden})))})),{options:{labelButtonDownloadItem:["Download file",i.STRING],allowDownloadByUrl:[!1,i.BOOLEAN]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:n}));export default n;
